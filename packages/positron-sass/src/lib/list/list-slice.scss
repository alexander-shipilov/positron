@function --list-slice--real-index($list, $index) {
    $length: length($list);

    @if ($index == null) {
        $index: $length + 1;
    } @else {
        @if ($index < 0) {
            $index: $length + $index + 1;
        }

        $index: max(min($index, $length + 1), 1);
    }

    @return $index;
}

@function list-slice($list, $index-from, $index-to: null) {
    $length: length($list);
    $next-list: ();

    @if ($length != 0) {
        $index-from: --list-slice--real-index($list, $index-from);
        $index-to: --list-slice--real-index($list, $index-to);

        @for $i from $index-from to $index-to {
            $next-list: append($next-list, nth($list, $i))
        }
    }

    @return $next-list;
}
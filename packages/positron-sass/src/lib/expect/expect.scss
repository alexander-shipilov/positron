@import "../core/is-function";
@import "../core/to-string";

@function expect($value, $expected, $message: "") {
    @if (is-function($value)) {
        $value: call($value);
    }

    @if (is-function($expected)) {
        $expected: call($expected);
    }

    $value: to-string($value);
    $expected: to-string($expected);
    $error: null;

    @if ($value != $expected) {
        $error: "#{ if($message, $message + ". ", "") }Expected #{ $expected } to equal #{ $value }";
    }

    @return $error;
}
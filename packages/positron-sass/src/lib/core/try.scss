@import "../types/validate";

@import "./--try";

/// Tries to invoke the given callable and returns result of execution or null if exception was thrown.
/// @group core
///
/// @param {callable} $callable
/// @return {any | null}
///
/// @example
///
///     @function foo($invalid: false) {
///         @if ($invalid) {
///             $error: throw(Invalid);
///
///             @return null;
///         }
///
///         @return "passed";
///     }
///
///     try(foo); // "passed"
///     try((foo, true)); // null
///
@function try($callable, $other...) {
    $valid-args: validate((callable: callable $callable), try);

    @return if($valid-args, nth(--try($callable), 2), null);
}
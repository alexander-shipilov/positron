@import "../func/--call";
@import "../core/is-callable";
@import "../core/throw-type-error";
@import "../core/to-string";

$--classes: () !default;

/// Registers new prototype with the given validator
/// @group prototype
/// @access private
///
/// @param {function} $validator
/// @return {string} prototype id
///
@function --class($constructor: null, $props: null, $other...) {
    @if (is-callable($constructor)) {
        $class-id: unique-id();
        $class: ($class-id: $constructor);

        @if ($props != null) {
            $class: map-merge($props, $class);
        }

        @return --set-prototype($class-id, $class);
    } @else {
        $error: throw-type-error(prototype constructor, "callable", $validator);
    }

    @return null;
}
@import "../assert";
@import "is-type";
@import "is-type-of";
@import "optional";

$optional-string: optional(string);

@include assert("optional: creates a new optional type", (
    is-type($optional-string) is-true,
));

@include assert("optional: is-type-of", (
    is-type-of($optional-string, null) is-true,
    is-type-of($optional-string, "foo") is-true,
    is-type-of($optional-string, "") is-true,
    is-type-of($optional-string, 1) is-false,
));

@include assert("optional: should throw TypeError if invalid params passed", (
    (optional, 1) throws "TypeError: Expected argument `$type` of `optional()` to be a type, instead received (number) 1",
));
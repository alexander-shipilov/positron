@import "../core/await";

@function --list-map($list, $func, $args...) {
    $next-list: ();
    $length: length($list);

    @if ($length != 0) {
        @for $i from 1 through $length {
            $next-list: append($next-list, call($func, nth($list, $i), $i, $list, $args...));
        }
    }

    @return $next-list;
}

@function list-map($list, $func, $args...) {
    @return if(await(list-map, "list" $list, "function" $func), --list-map($list, $func, $args...), null);
}